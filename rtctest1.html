<!DOCTYPE html>
<html>
<head><title>WebRTC - первое знакомство</title>
  <style>
	video {height: 240 px; width: 320 px; border: 1px solid grey; }
  </style>
</head>
<body>
  <button id="btn_getUserMedia" onclick="getUserMedia_click()">getUserMedia</button>
  <br>
  <video id="localVideo1" autoplay="true"></video>
  <script>
    var localStream = null;
	var streamConstraints = {"audio": true,
	                         "video": {
										"mandatory": {"maxWidth": "320", "maxHeight": "240", "maxFrameRate": "5"},
										"optional": []
									  }
							};
	function getUserMedia_success(stream) {
	  console.log("getUserMedia_success():", stream);
	  localVideo1.src = URL.createObjectURL(stream);
	  localStream = stream;
	}
	function getUserMedia_error(error) {
	  console.log("getUserMedia_error():", error);
	}
	function getUserMedia_Click() {
	  console.log("getUserMedia_click()");
	  navigator.webkitGetUserMedia(streamConstraints, getUsermedia_success, getUserMedia_error);
	}
	
  </script>
</body>
</html>